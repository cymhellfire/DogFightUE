# 修改器应用规则

本文主要介绍修改器应用规则的功能及语法。

<!-- TOC -->
* [修改器应用规则](#修改器应用规则)
  * [应用规则功能](#应用规则功能)
  * [应用规则语法](#应用规则语法)
    * [名称筛选](#名称筛选)
    * [数据类型筛选](#数据类型筛选)
    * [标签筛选](#标签筛选)
    * [规则组](#规则组)
<!-- TOC -->

## 应用规则功能

应用规则限制了一个修改器可以修改的属性类型，通常可以使用特殊的规则来避免效果强力的修改器应用到特定卡牌的关键属性上，如**数值翻3倍**的修改器应用到卡牌核弹的伤害上。

## 应用规则语法

应用规则在创建修改器时作为一个字符串参数传入，应用规则可以由多个规则共同组成。<br>
规则样例：

```
(Name=Damage,Tag[Tag1,Tag2,Tag3],DataType=Integer)
```

上面的规则字符串限定了修改器只能应用在**同时满足**以下条件的属性：

- 名称为Damage
- 具有Tag1,Tag2,Tag3三个标签中任意一个
- 数据类型为整数

接下来详细介绍应用规则的各个语法。

### 名称筛选

名称筛选指定了可修改属性的名称，只有名称匹配规则的属性能够被修改。<br>
语法：

```
Name=XXX
```

XXX代表目标属性的名称。

### 数据类型筛选

数据类型筛选指定属性的数据类型，只有数据类型匹配的属性能够被修改。<br>
语法：

```
DataType=XXX
```

XXX为数据类型，下表中列出所有可用的数据类型。

| 名称      | 类型  |
|---------|-----|
| Boolean | 布尔值 |
| Integer | 整数值 |
| Float   | 小数值 |


### 标签筛选

标签筛选指定属性具有的标签，只有满足标签筛选规则的属性能够被修改。<br>
语法：

```
Tag(Tag1,Tag2)
Tag[Tag1,Tag2]
```

标签筛选可以指定多个标签进行匹配，而所有标签外部的括号类型制定了不同的匹配规则。以下为属性通过筛选的情况：

- 具有小括号（圆括号）中的所有标签
- 具有中括号（方括号）中的任一标签

### 规则组

当单个筛选规则不能满足需求时，可以将多个筛选规则打组共同进行筛选。<br>
语法：

```
(Rule1,Rule2)
[Rule1,Rule2]
```

> Rule1, Rule2可以是任一之前介绍的筛选规则，也可以是另一个规则组。

与标签筛选类似，规则组也采用括号定义了不同的筛选行为。以下为属性能够通过规则组的情况：

- 通过小括号（圆括号）中的所有规则
- 通过中括号（方括号）中的任一规则


